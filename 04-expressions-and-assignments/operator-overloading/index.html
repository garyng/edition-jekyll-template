<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Operator overloading | C# - TPL2141</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="Operator overloading" />
<meta name="author" content="GaryNg" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In C#, user-defined types can define custom behaviors for certain operators with static member functions using the operator keyword. However, not all operators can be overloaded, and some of them have certain restrictions (Docs, 2015)" />
<meta property="og:description" content="In C#, user-defined types can define custom behaviors for certain operators with static member functions using the operator keyword. However, not all operators can be overloaded, and some of them have certain restrictions (Docs, 2015)" />
<link rel="canonical" href="https://tpl2141.garyng.xyz/04-expressions-and-assignments/operator-overloading/" />
<meta property="og:url" content="https://tpl2141.garyng.xyz/04-expressions-and-assignments/operator-overloading/" />
<meta property="og:site_name" content="C# - TPL2141" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-09-19T14:13:07+00:00" />
<script type="application/ld+json">
{"description":"In C#, user-defined types can define custom behaviors for certain operators with static member functions using the operator keyword. However, not all operators can be overloaded, and some of them have certain restrictions (Docs, 2015)","author":{"@type":"Person","name":"GaryNg"},"@type":"Article","url":"https://tpl2141.garyng.xyz/04-expressions-and-assignments/operator-overloading/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://tpl2141.garyng.xyz/images/siteicon.png"},"name":"GaryNg"},"headline":"Operator overloading","dateModified":"2018-09-19T14:13:07+00:00","datePublished":"2018-09-19T14:13:07+00:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

		<link type="application/atom+xml" rel="alternate" href="https://tpl2141.garyng.xyz/feed.xml" title="C# - TPL2141" />

		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic|Open+Sans:400,400italic,600,600italic,700,700italic|Inconsolata:400,700">
		<link rel="stylesheet" href="/css/main.css">
		<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
		<link rel="icon" type="image/png" href="/images/touch-icon.png" sizes="192x192">
		<link rel="icon" type="image/png" href="/images/favicon.png">

		
	</head>

	<body>
		<header>
			<h1>
				<a href="/"><img src="/images/emblem.svg" width="40" height="40" alt="C# - TPL2141 logo"></a>
				C# - TPL2141
				<button type="button" class="open-nav" id="open-nav"></button>
			</h1>

			<form action="/search/" method="get">
				<input type="text" name="q" id="search-input" placeholder="Search" autofocus>
				<input type="submit" value="Search" style="display: none;">
			</form>

			<nav class="full-navigation">
				<ul>
					<li class="nav-item top-level ">
						
						<a href="/">Welcome</a>
					</li>
				</ul>

				<ul>
					
					
						<li class="nav-item top-level ">
							
							<a href="/01-introduction/history/">Introduction</a>
							<ul>
								
									<li class="nav-item "><a href="/01-introduction/history/">Brief history</a></li>
								
									<li class="nav-item "><a href="/01-introduction/styles/">Supported programming styles</a></li>
								
									<li class="nav-item "><a href="/01-introduction/features/">Unique features</a></li>
								
									<li class="nav-item "><a href="/01-introduction/slide/">Slide</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/02-application-domain/Initial-intended-usage/">Application Domain</a>
							<ul>
								
									<li class="nav-item "><a href="/02-application-domain/Initial-intended-usage/">Initial intended usage</a></li>
								
									<li class="nav-item "><a href="/02-application-domain/current-usage/">Current usage</a></li>
								
									<li class="nav-item "><a href="/02-application-domain/popularity/">Popularity</a></li>
								
									<li class="nav-item "><a href="/02-application-domain/slide/">Slide</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/03-names-and-bindings/names/">Names and Bindings</a>
							<ul>
								
									<li class="nav-item "><a href="/03-names-and-bindings/names/">Names</a></li>
								
									<li class="nav-item "><a href="/03-names-and-bindings/special-characters/">Special characters</a></li>
								
									<li class="nav-item "><a href="/03-names-and-bindings/special-words/">Special words</a></li>
								
									<li class="nav-item "><a href="/03-names-and-bindings/declarations/">Declarations</a></li>
								
									<li class="nav-item "><a href="/03-names-and-bindings/dynamic-type-binding/">Dynamic type binding</a></li>
								
									<li class="nav-item "><a href="/03-names-and-bindings/storage-binding/">Storage Binding</a></li>
								
									<li class="nav-item "><a href="/03-names-and-bindings/scoping/">Scoping</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level current">
							
							<a href="/04-expressions-and-assignments/expressions/">Expressions and Assignments</a>
							<ul>
								
									<li class="nav-item "><a href="/04-expressions-and-assignments/expressions/">Expressions</a></li>
								
									<li class="nav-item "><a href="/04-expressions-and-assignments/arithmetic-expressions/">Arithmetic expressions</a></li>
								
									<li class="nav-item "><a href="/04-expressions-and-assignments/operators/">Operators</a></li>
								
									<li class="nav-item "><a href="/04-expressions-and-assignments/operator-precedence-and-associativity/">Operator precedence and associativity</a></li>
								
									<li class="nav-item current"><a href="/04-expressions-and-assignments/operator-overloading/">Operator overloading</a></li>
								
									<li class="nav-item "><a href="/04-expressions-and-assignments/functional-side-effects/">Functional side effects</a></li>
								
									<li class="nav-item "><a href="/04-expressions-and-assignments/type-conversion/">Type conversion</a></li>
								
									<li class="nav-item "><a href="/04-expressions-and-assignments/boolean-expressions/">Boolean expressions</a></li>
								
									<li class="nav-item "><a href="/04-expressions-and-assignments/short-circuit-evaluation/">Short circuit evaluation</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/05-control-structures/selection-statements/">Control Structures</a>
							<ul>
								
									<li class="nav-item "><a href="/05-control-structures/selection-statements/">Selection statements</a></li>
								
									<li class="nav-item "><a href="/05-control-structures/if-statements/">if statements</a></li>
								
									<li class="nav-item "><a href="/05-control-structures/switch-statements/">switch statements</a></li>
								
									<li class="nav-item "><a href="/05-control-structures/iteration-statements/">Iteration statements</a></li>
								
									<li class="nav-item "><a href="/05-control-structures/while-loop/">while loop</a></li>
								
									<li class="nav-item "><a href="/05-control-structures/do-while-loop/">do...while loop</a></li>
								
									<li class="nav-item "><a href="/05-control-structures/for-loop/">for loop</a></li>
								
									<li class="nav-item "><a href="/05-control-structures/foreach-in-loop/">foreach...in loop</a></li>
								
									<li class="nav-item "><a href="/05-control-structures/break/">break</a></li>
								
									<li class="nav-item "><a href="/05-control-structures/continue/">continue</a></li>
								
									<li class="nav-item "><a href="/05-control-structures/goto/">goto</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/06-subprograms/methods-definition/">Subprograms</a>
							<ul>
								
									<li class="nav-item "><a href="/06-subprograms/methods-definition/">Methods definition</a></li>
								
									<li class="nav-item "><a href="/06-subprograms/positional-keyword-parameters/">Positional and keyword parameters</a></li>
								
									<li class="nav-item "><a href="/06-subprograms/passing-parameters/">Passing parameters</a></li>
								
									<li class="nav-item "><a href="/06-subprograms/method-overloading/">Method overloading</a></li>
								
									<li class="nav-item "><a href="/06-subprograms/slide/">Slide</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/07-training/slide/">Training</a>
							<ul>
								
									<li class="nav-item "><a href="/07-training/slide/">Slides</a></li>
								
							</ul>
						</li>
					
				</ul>

				<ul>
					<li class="nav-item top-level ">
						
						<a href="/quick-guide/">Quick Guide</a>
					</li>
				</ul>
			</nav>
		</header>

		<section class="main">
			<div class="page-header">
				<h2>Expressions and Assignments</h2>
				<h3>Operator overloading</h3>
				
			</div>
			<article class="content">
				<p>In C#, <em>user-defined types</em> can define custom behaviors for certain operators with static member functions using the <code class="highlighter-rouge">operator</code> keyword. However, not all operators can be overloaded, and some of them have certain restrictions <a href="#operator-overloading-Docs2015h">(Docs, 2015)</a></p>

<table>
  <thead>
    <tr>
      <th>Operators</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>+, -, !, ~, ++, –</td>
      <td>Can be overloaded</td>
    </tr>
    <tr>
      <td>+, -, *, /, %</td>
      <td>Can be overloaded</td>
    </tr>
    <tr>
      <td>==, !=, , &lt;=, &gt;=</td>
      <td>Can be overloaded</td>
    </tr>
    <tr>
      <td>&amp;&amp;, ||</td>
      <td>Cannot be overloaded directly</td>
    </tr>
    <tr>
      <td>+=, -=, *=, /=, %=</td>
      <td>Cannot be overloaded directly</td>
    </tr>
    <tr>
      <td>=, ., ?:, -&gt;, new, is, sizeof, typeof</td>
      <td>Cannot be overloaded</td>
    </tr>
  </tbody>
</table>

<h2 id="example-fraction">Example: <code class="highlighter-rouge">Fraction</code></h2>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Fraction</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">_numerator</span><span class="p">;</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">_denominator</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">Fraction</span><span class="p">(</span><span class="kt">int</span> <span class="n">numerator</span><span class="p">,</span> <span class="kt">int</span> <span class="n">denominator</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_numerator</span> <span class="p">=</span> <span class="n">numerator</span><span class="p">;</span>
        <span class="n">_denominator</span> <span class="p">=</span> <span class="n">denominator</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="kt">double</span> <span class="n">Value</span> <span class="p">=&gt;</span> <span class="p">((</span><span class="kt">double</span><span class="p">)</span><span class="n">_numerator</span><span class="p">)</span> <span class="p">/</span> <span class="n">_denominator</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">Fraction</span> <span class="k">operator</span> <span class="p">+(</span><span class="n">Fraction</span> <span class="n">first</span><span class="p">,</span> <span class="n">Fraction</span> <span class="n">second</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">numerator</span> <span class="p">=</span> <span class="n">first</span><span class="p">.</span><span class="n">_numerator</span> <span class="p">*</span> <span class="n">second</span><span class="p">.</span><span class="n">_denominator</span> <span class="p">+</span> <span class="n">second</span><span class="p">.</span><span class="n">_numerator</span> <span class="p">*</span> <span class="n">first</span><span class="p">.</span><span class="n">_denominator</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">denominator</span> <span class="p">=</span> <span class="n">first</span><span class="p">.</span><span class="n">_denominator</span> <span class="p">*</span> <span class="n">second</span><span class="p">.</span><span class="n">_denominator</span><span class="p">;</span>

        <span class="k">return</span> <span class="k">new</span> <span class="nf">Fraction</span><span class="p">(</span><span class="n">numerator</span><span class="p">,</span> <span class="n">denominator</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>To see the class in action,</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Fraction</span> <span class="n">f1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Fraction</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span>
<span class="n">Fraction</span> <span class="n">f2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Fraction</span><span class="p">(</span><span class="m">3</span><span class="p">,</span> <span class="m">5</span><span class="p">);</span>

<span class="n">Fraction</span> <span class="n">result</span> <span class="p">=</span> <span class="n">f1</span> <span class="p">+</span> <span class="n">f2</span><span class="p">;</span>  <span class="c1">// adding 2 fractions together</span>
<span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>
</code></pre></div></div>

<p>Output:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1.26666666666667
</code></pre></div></div>

<p>which is equivalent to <code class="highlighter-rouge">2 / 3 + 3 / 5</code>.</p>

<p>The method</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">static</span> <span class="n">Fraction</span> <span class="k">operator</span> <span class="p">+(</span><span class="n">Fraction</span> <span class="n">first</span><span class="p">,</span> <span class="n">Fraction</span> <span class="n">second</span><span class="p">)</span>
</code></pre></div></div>
<p>overload the operator <code class="highlighter-rouge">+</code> to provide <strong>custom logic</strong> for adding two fractions.</p>

<blockquote>
  <p>Live-code example</p>
  <iframe width="100%" height="475" src="https://dotnetfiddle.net/Widget/1mBSYH" frameborder="0"></iframe>
</blockquote>

<h2 id="references">References</h2>

<ol class="bibliography"><li><span id="operator-overloading-Docs2015h">Docs, M. (2015, July 20). Overloadable Operators (C# Programming Guide). Retrieved from https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/overloadable-operators</span></li></ol>

			</article>
		</section>

		<script>
			document.getElementById("open-nav").addEventListener("click", function () {
				document.body.classList.toggle("nav-open");
			});
		</script>
	</body>
</html>
